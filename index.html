<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ñ–ò–ú 100 –ö–ì ‚Äî –¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --bg: #fafafa;
            --bg-card: #ffffff;
            --bg-input: #f5f5f5;
            --text: #1a1a1a;
            --text-secondary: #666666;
            --text-muted: #999999;
            --border: #e5e5e5;
            --accent: #e63946;
            --accent-light: rgba(230, 57, 70, 0.08);
            --warmup: #2a9d8f;
            --warmup-bg: rgba(42, 157, 143, 0.06);
            --weight-bg: rgba(230, 57, 70, 0.1);
            --shadow: 0 1px 3px rgba(0,0,0,0.04);
        }

        [data-theme="dark"] {
            --bg: #0d0d0d;
            --bg-card: #161616;
            --bg-input: #1f1f1f;
            --text: #f0f0f0;
            --text-secondary: #a0a0a0;
            --text-muted: #666666;
            --border: #2a2a2a;
            --accent: #e63946;
            --accent-light: rgba(230, 57, 70, 0.12);
            --warmup: #2a9d8f;
            --warmup-bg: rgba(42, 157, 143, 0.1);
            --weight-bg: rgba(230, 57, 70, 0.15);
            --shadow: none;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.5;
            transition: background 0.3s, color 0.3s;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .header-content h1 {
            font-size: 1.75rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 0.25rem;
        }

        .header-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .theme-toggle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: var(--bg-card);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.2s;
        }

        .theme-toggle:hover {
            border-color: var(--accent);
        }

        .config-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .config-section h2 {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
        }

        .config-item {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        .config-item.primary {
            grid-column: 1 / -1;
        }

        .config-item label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .config-item .input-wrap {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .config-item input {
            width: 100%;
            padding: 0.6rem 0.75rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            transition: border-color 0.2s;
        }

        .config-item.primary input {
            font-size: 1.5rem;
            padding: 0.75rem 1rem;
            font-weight: 600;
        }

        .config-item input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .config-item .unit {
            font-size: 0.85rem;
            color: var(--text-muted);
            flex-shrink: 0;
        }

        .legend-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .legend-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 0.75rem;
        }

        .legend-item {
            display: flex;
            align-items: flex-start;
            gap: 0.6rem;
        }

        .legend-badge {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            background: var(--bg-input);
            border: 1px solid var(--border);
            flex-shrink: 0;
            min-width: 45px;
            text-align: center;
        }

        .legend-text {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .legend-text strong {
            color: var(--text);
            font-weight: 600;
        }

        .week-section {
            margin-bottom: 1.5rem;
            page-break-inside: avoid;
        }

        .week-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--shadow);
            user-select: none;
        }

        .week-header:hover {
            border-color: var(--accent);
        }

        .week-header h2 {
            font-size: 1rem;
            font-weight: 600;
        }

        .toggle-icon {
            font-size: 1.25rem;
            color: var(--text-muted);
            transition: transform 0.3s;
        }

        .week-section.collapsed .week-header .toggle-icon,
        .day-section.collapsed .day-header .toggle-icon {
            transform: rotate(-90deg);
        }

        .week-section.collapsed .week-content {
            display: none;
        }

        .week-content {
            margin-top: 0.5rem;
        }

        .day-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            margin-bottom: 0.5rem;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .day-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }

        .day-header:hover {
            background: var(--bg-input);
        }

        .day-number {
            width: 28px;
            height: 28px;
            background: var(--accent);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }

        .day-title {
            font-size: 0.95rem;
            font-weight: 500;
            flex: 1;
        }

        .day-content {
            padding: 0 1.25rem 1.25rem;
        }

        .day-section.collapsed .day-content {
            display: none;
        }

        .block {
            margin-bottom: 1rem;
        }

        .block:last-child {
            margin-bottom: 0;
        }

        .block-header {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .block.warmup .block-header,
        .block.cooldown .block-header {
            color: var(--warmup);
        }

        .warmup-list {
            list-style: none;
            padding: 0.75rem;
            background: var(--warmup-bg);
            border-radius: 8px;
        }

        .warmup-list li {
            padding: 0.25rem 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .warmup-list li + li {
            border-top: 1px solid var(--border);
            margin-top: 0.25rem;
            padding-top: 0.5rem;
        }

        .video-link {
            color: var(--text-secondary);
            text-decoration: none;
            border-bottom: 1px dashed var(--warmup);
            transition: color 0.2s, border-color 0.2s;
        }

        .video-link:hover {
            color: var(--warmup);
            border-bottom-style: solid;
        }

        .video-link::after {
            content: " ‚ñ∂";
            font-size: 0.7em;
            opacity: 0.6;
        }

        .exercise-table {
            width: 100%;
            border-collapse: collapse;
        }

        .exercise-table th {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            font-weight: 500;
            text-align: left;
            padding: 0.5rem 0.25rem;
            border-bottom: 1px solid var(--border);
        }

        .exercise-table th:last-child {
            text-align: center;
        }

        .exercise-table td {
            padding: 0.6rem 0.25rem;
            vertical-align: middle;
            border-bottom: 1px solid var(--border);
        }

        .exercise-table tr:last-child td {
            border-bottom: none;
        }

        .exercise-table .col-num {
            width: 30px;
        }

        .exercise-table .col-name {
            width: auto;
        }

        .exercise-table .col-sets {
            width: 110px;
        }

        .exercise-table .col-weight {
            width: 160px;
        }

        .exercise-table .col-result {
            width: 80px;
        }

        .exercise-num {
            width: 24px;
            height: 24px;
            background: var(--accent-light);
            color: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .exercise-name {
            font-size: 0.9rem;
        }

        .sets-reps {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .weight-info {
            display: flex;
            flex-direction: column;
            gap: 0.15rem;
        }

        .weight-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--accent);
        }

        .weight-meta {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .weight-empty {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .result-input {
            width: 100%;
            padding: 0.3rem 0.4rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            background: var(--bg-input);
            border: 1px dashed var(--border);
            border-radius: 4px;
            color: var(--text);
            text-align: center;
        }

        .result-input:focus {
            outline: none;
            border-style: solid;
            border-color: var(--accent);
        }

        .result-input::placeholder {
            color: var(--text-muted);
        }

        .user-weight-input {
            width: 100%;
            padding: 0.25rem 0.4rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 5px;
            color: var(--text);
            text-align: center;
        }

        .user-weight-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .save-section {
            text-align: center;
            padding: 2rem 1rem;
            margin-top: 1rem;
        }

        .save-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 0.85rem 2rem;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .save-btn:hover {
            opacity: 0.9;
        }

        .save-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .note {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 0.75rem;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-spinner {
            text-align: center;
            color: white;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255,255,255,0.2);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media print {
            .config-section, .save-section, .theme-toggle {
                display: none !important;
            }
            .week-section.collapsed .week-content,
            .day-section.collapsed .day-content {
                display: block !important;
            }
            .result-input {
                border-style: solid;
                border-color: var(--border);
            }
            .video-link {
                color: inherit;
                border-bottom: none;
            }
            .video-link::after {
                display: none;
            }
        }

        @media (max-width: 700px) {
            .container { padding: 1rem; }
            .config-grid {
                grid-template-columns: 1fr 1fr;
            }
            .exercise-table .col-weight {
                width: 120px;
            }
            .exercise-table .col-result {
                width: 55px;
            }
            .weight-meta {
                font-size: 0.6rem;
            }
            .weight-value {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>–ì–µ–Ω–µ—Ä—É—é PDF...</p>
        </div>
    </div>

    <div class="container" id="mainContainer">
        <header>
            <div class="header-content">
                <h1>–ñ–ò–ú 100 –ö–ì</h1>
                <p>–¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ ¬∑ –î–º–∏—Ç—Ä–æ –ì–æ–ª–æ–≤–∏–Ω—Å—å–∫–∏–π</p>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
                <span id="themeIcon">üåô</span>
            </button>
        </header>

        <section class="config-section" id="configSection">
            <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
            <div class="config-grid">
                <div class="config-item primary">
                    <label>–†–∞–∑–æ–≤–∏–π –º–∞–∫—Å–∏–º—É–º —É –∂–∏–º—ñ –ª–µ–∂–∞—á–∏</label>
                    <div class="input-wrap">
                        <input type="number" id="oneRepMax" value="100" min="20" max="150" step="2.5">
                        <span class="unit">–∫–≥</span>
                    </div>
                </div>
                <div class="config-item">
                    <label>–ë—ñ—Ü–µ–ø—Å —Å—Ç–æ—è—á–∏</label>
                    <div class="input-wrap">
                        <input type="number" id="coef_biceps" value="35" min="10" max="100" step="1">
                        <span class="unit">% –≤—ñ–¥ 1RM</span>
                    </div>
                </div>
                <div class="config-item">
                    <label>–ñ–∏–º –≥–∞–Ω—Ç–µ–ª—å –ø–æ—Ö–∏–ª–æ</label>
                    <div class="input-wrap">
                        <input type="number" id="coef_incline" value="32" min="10" max="100" step="1">
                        <span class="unit">%</span>
                    </div>
                </div>
                <div class="config-item">
                    <label>–ñ–∏–º —Å—Ç–æ—è—á–∏</label>
                    <div class="input-wrap">
                        <input type="number" id="coef_ohp" value="60" min="20" max="100" step="1">
                        <span class="unit">%</span>
                    </div>
                </div>
                <div class="config-item">
                    <label>–ñ–∏–º –≤—É–∑—å–∫–∏–º</label>
                    <div class="input-wrap">
                        <input type="number" id="coef_close_grip" value="85" min="30" max="100" step="1">
                        <span class="unit">%</span>
                    </div>
                </div>
            </div>
        </section>

        <div class="legend-section">
            <div class="legend-title">–£–º–æ–≤–Ω—ñ –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è</div>
            <div class="legend-grid">
                <div class="legend-item">
                    <span class="legend-badge">–õ–í</span>
                    <span class="legend-text"><strong>–õ–µ–≥–∫–∞ –≤–∞–≥–∞</strong> ‚Äî 40-55% –≤—ñ–¥ 1RM, –∑–∞–ø–∞—Å 8+ –ø–æ–≤—Ç–æ—Ä—ñ–≤</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">–°–í</span>
                    <span class="legend-text"><strong>–°–µ—Ä–µ–¥–Ω—è –≤–∞–≥–∞</strong> ‚Äî 50-60% –≤—ñ–¥ 1RM, –∑–∞–ø–∞—Å 5-6 –ø–æ–≤—Ç–æ—Ä—ñ–≤</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">–í–í</span>
                    <span class="legend-text"><strong>–í–∞–∂–∫–∞ –≤–∞–≥–∞</strong> ‚Äî 70-85% –≤—ñ–¥ 1RM, –∑–∞–ø–∞—Å 1-2 –ø–æ–≤—Ç–æ—Ä–∏</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">–ú–í</span>
                    <span class="legend-text"><strong>–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∞–≥–∞</strong> ‚Äî –ª–µ–¥—å –≤—ñ–¥—á—É–≤–∞—î—Ç—å—Å—è –∞–±–æ –±–µ–∑ –≤–∞–≥–∏</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">–•√ó–£</span>
                    <span class="legend-text"><strong>–• –ø–æ –£</strong> ‚Äî –• –ø—ñ–¥—Ö–æ–¥—ñ–≤ –ø–æ –£ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">‚Üó</span>
                    <span class="legend-text"><strong>–ó—ñ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º –≤–∞–≥–∏</strong> ‚Äî –≤—ñ–¥ –ª–µ–≥–∫–æ—ó –¥–æ –≤–∞–∂–∫–æ—ó (–∑–∞–ø–∞—Å 1-2)</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">‚Üí</span>
                    <span class="legend-text"><strong>–ü–æ —Ä–∞–∑—É –≤ –≥–æ—Ä—É</strong> ‚Äî –ø—ñ–¥—Ö–æ–¥–∏ –Ω–∞ 1 –ø–æ–≤—Ç–æ—Ä –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó</span>
                </div>
                <div class="legend-item">
                    <span class="legend-badge">—Å—ñ–Ω–≥–ª–∏</span>
                    <span class="legend-text"><strong>–°—ñ–Ω–≥–ª–∏</strong> ‚Äî 1 –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –∑ –ø–∞—É–∑–æ—é –Ω–∞ –≥—Ä—É–¥—è—Ö</span>
                </div>
            </div>
        </div>

        <div id="programContent"></div>

        <section class="save-section" id="saveSection">
            <button class="save-btn" id="saveBtn" onclick="savePDF()">–ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ PDF</button>
            <p class="note">–ó–∞–æ–∫—Ä—É–≥–ª–µ–Ω–Ω—è –¥–æ 2.5 –∫–≥ –¥–ª—è —à—Ç–∞–Ω–≥–∏</p>
        </section>
    </div>

    <script>
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const icon = document.getElementById('themeIcon');
            const isDark = body.getAttribute('data-theme') === 'dark';
            
            if (isDark) {
                body.removeAttribute('data-theme');
                icon.textContent = 'üåô';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                icon.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme
        (function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                document.getElementById('themeIcon').textContent = '‚òÄÔ∏è';
            }
        })();

        // Toggle functions
        function toggleWeek(weekId) {
            const section = document.getElementById(weekId);
            section.classList.toggle('collapsed');
            saveToggleState();
        }

        function toggleDay(dayId) {
            const section = document.getElementById(dayId);
            section.classList.toggle('collapsed');
            saveToggleState();
        }

        function saveToggleState() {
            const collapsed = {};
            document.querySelectorAll('.week-section.collapsed, .day-section.collapsed').forEach(el => {
                collapsed[el.id] = true;
            });
            localStorage.setItem('collapsedSections', JSON.stringify(collapsed));
        }

        function loadToggleState() {
            const collapsed = JSON.parse(localStorage.getItem('collapsedSections') || '{}');
            for (const [id, isCollapsed] of Object.entries(collapsed)) {
                const el = document.getElementById(id);
                if (el && isCollapsed) el.classList.add('collapsed');
            }
        }

        // Weight calculation - ranges from the program document
        const WEIGHT_RANGES = {
            '–õ–í': { min: 40, max: 55 },
            '–°–í': { min: 50, max: 60 },
            '–í–í': { min: 70, max: 85 }
        };

        // YouTube video links for warmup/cooldown exercises
        const VIDEO_LINKS = {
            '–Ω–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ —Å—Ç–æ—è—á–∏ –ø–µ—Ä–µ–¥ –¥–∑–µ—Ä–∫–∞–ª–æ–º': 'https://youtu.be/nHZ-HnS2BV0?si=uCDwGooEmoWDlJyg&t=249',
            '–Ω–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –ª–µ–∂–∞—á–∏ –Ω–∞ –ø—ñ–¥–ª–æ–∑—ñ': 'https://youtu.be/nHZ-HnS2BV0?si=5ikvBkll7-p2JU4n&t=269',
            '–Ω–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –∑ —É–ø–æ—Ä–æ–º –≤ –ª–∞–≤–∫—É': 'https://youtu.be/nHZ-HnS2BV0?si=YT_0nRRZLmQSaB-s&t=291',
            '—ñ–º—ñ—Ç–∞—Ü—ñ—è –∂–∏–º—É –∑ –ø–∞–ª–∫–æ—é': 'https://youtu.be/nHZ-HnS2BV0?si=1h4vNfabjvqun1a2&t=284',
            '–ø—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ –¥–æ –≥–æ—Ä–∏': 'https://youtu.be/nHZ-HnS2BV0?si=WJsRF7cxKfksMeIl&t=426',
            '–ø—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–∏': 'https://youtu.be/nHZ-HnS2BV0?si=21uHOegGrqHsX-em&t=434',
            '–∑–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É': 'https://youtu.be/nHZ-HnS2BV0?si=2kpnECmoZZygh5A_&t=440',
            '–æ–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º': 'https://youtu.be/nHZ-HnS2BV0?si=2HbygAKerkJ_TH43&t=447',
            '—Ñ—ñ–∫—Å–∞—Ü—ñ—è –ª–æ–ø–∞—Ç–∫–∏ –∑ –Ω–∞—Ö–∏–ª–æ–º': 'https://youtu.be/nHZ-HnS2BV0?si=R9vFCLNYCjEOrIMY&t=462',
            '–æ–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ': 'https://youtu.be/nHZ-HnS2BV0?si=5UOsxZ4Q3bzlmf5f&t=483',
            '–≤—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –∂–∏–≤–æ—Ç—É': 'https://youtu.be/nHZ-HnS2BV0?si=zF6D0UcBsfMNHBDA&t=497',
            '–≤—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –±–æ–∫—É': 'https://youtu.be/nHZ-HnS2BV0?si=qa9hzhH0zO_kyeeL&t=515',
            '—Å—Ç–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –∑ —É–ø–æ—Ä–æ–º': 'https://youtu.be/nHZ-HnS2BV0?si=U3MZBjhk0IHpLhma&t=542',
            '—Å—Ç–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –±–æ–∫–æ–º': 'https://youtu.be/nHZ-HnS2BV0?si=39iG6fMvkWVVsf4L&t=555',
            '—Ä–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞': 'https://youtu.be/nHZ-HnS2BV0?si=ceo-KF66OPwOsP-F&t=1046'
        };

        function addVideoLink(text) {
            const lowerText = text.toLowerCase();
            for (const [keyword, url] of Object.entries(VIDEO_LINKS)) {
                if (lowerText.includes(keyword)) {
                    return `<a href="${url}" target="_blank" class="video-link">${text}</a>`;
                }
            }
            return text;
        }

        function roundToBarbell(weight) {
            return Math.round(weight / 2.5) * 2.5;
        }

        // Program data
        const program = {
            week1: {
                day1: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ –¥–æ –≥–æ—Ä–∏ 3√ó10",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–∏ 3√ó10",
                        "–°—Ç–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –∑ —É–ø–æ—Ä–æ–º –≤ —Å—Ç—ñ–Ω—É 2√ó10—Å –Ω–∞ —Ä—É–∫—É",
                        "–°—Ç–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –±–æ–∫–æ–º 2√ó10—Å –Ω–∞ —Ä—É–∫—É"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "5√ó5", weight: "–õ–í", type: "bench" },
                        { name: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ –¥–µ–ø—Ä–µ—Å—ñ—î—é –ª–æ–ø–∞—Ç–∫–∏", sets: "3√ó6", weight: "–õ–í", type: "other" },
                        { name: "–®—Ä–∞–≥–∏ –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é –ª–æ–ø–∞—Ç–∫–∏", sets: "5√ó5", weight: "–õ–í", type: "other" },
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "4√ó4", weight: "–°–í", type: "bench" },
                        { name: "–ë—ñ—Ü–µ–ø—Å —Å—Ç–æ—è—á–∏", sets: "4√ó8", weight: "–õ–í", type: "biceps" }
                    ],
                    cooldown: [
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ —Å—Ç–æ—è—á–∏ –ø–µ—Ä–µ–¥ –¥–∑–µ—Ä–∫–∞–ª–æ–º 3√ó6",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –∑ —É–ø–æ—Ä–æ–º –≤ –ª–∞–≤–∫—É 3√ó6",
                        "–ó–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É 3√ó6 –Ω–∞ —Ä—É–∫—É"
                    ]
                },
                day2: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ –¥–æ –≥–æ—Ä–∏ 3√ó10",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–∏ 3√ó10",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–§—ñ–∫—Å–∞—Ü—ñ—è –ª–æ–ø–∞—Ç–∫–∏ –∑ –Ω–∞—Ö–∏–ª–æ–º 2√ó10 –Ω–∞ —Ä—É–∫—É"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "2√ó2 ‚Üí –ø–æ 1 –≤ –≥–æ—Ä—É", weight: "–õ–í‚Üí", type: "bench_pyramid" },
                        { name: "–ñ–∏–º –ê—Ä–Ω–æ–ª—å–¥–∞", sets: "3√ó10", weight: "–õ–í", type: "other" },
                        { name: "–¢—è–≥–∞ –Ω–∏–∂–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ñ–∏–º –≤—É–∑—å–∫–∏–º —Ö–≤–∞—Ç–æ–º", sets: "3√ó8", weight: "–õ–í", type: "close_grip" },
                        { name: "–ú–æ–ª–æ—Ç–∫–æ–≤—ñ –∑–≥–∏–Ω–∞–Ω–Ω—è", sets: "4√ó5", weight: "–°–í", type: "other" }
                    ],
                    cooldown: [
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ —Å—Ç–æ—è—á–∏ –ø–µ—Ä–µ–¥ –¥–∑–µ—Ä–∫–∞–ª–æ–º 3√ó6",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –∑ —É–ø–æ—Ä–æ–º –≤ –ª–∞–≤–∫—É 3√ó6",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –±–æ–∫—É –ú–í 3√ó6",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –∂–∏–≤–æ—Ç—É –ú–í 3√ó6"
                    ]
                },
                day3: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ –¥–æ –≥–æ—Ä–∏ 3√ó10",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–∏ 3√ó10",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –ª–µ–∂–∞—á–∏ –Ω–∞ –ø—ñ–¥–ª–æ–∑—ñ 3√ó5"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "5√ó5 + 3√ó1 —Å—ñ–Ω–≥–ª–∏", weight: "–õ–í", type: "bench" },
                        { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª—å –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ", sets: "3√ó8", weight: "–°–í", type: "incline" },
                        { name: "–ú–∞—Ö–∏ –Ω–∞ —Å–µ—Ä–µ–¥–Ω—é –¥–µ–ª—å—Ç—É", sets: "3√ó8 ‚Üó", weight: "‚Üó", type: "other" },
                        { name: "–ú–∞—Ö–∏ –Ω–∞ –∑–∞–¥–Ω—é –¥–µ–ª—å—Ç—É", sets: "3√ó8 ‚Üó", weight: "‚Üó", type: "other" },
                        { name: "–ñ–∏–º —Å—Ç–æ—è—á–∏", sets: "4√ó4", weight: "–°–í", type: "ohp" },
                        { name: "–†–æ–∑–≥–∏–Ω–∞–Ω–Ω—è —ñ–∑-–∑–∞ –≥–æ–ª–æ–≤–∏", sets: "3√ó8", weight: "–õ–í", type: "other" }
                    ],
                    cooldown: [
                        "–†–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞"
                    ]
                }
            },
            week2: {
                day1: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó6",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–Ü–º—ñ—Ç–∞—Ü—ñ—è –∂–∏–º—É –∑ –ø–∞–ª–∫–æ—é 3√ó5"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "4√ó4 + 4√ó1 —Å—ñ–Ω–≥–ª–∏", weight: "–õ–í", type: "bench" },
                        { name: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ –¥–µ–ø—Ä–µ—Å—ñ—î—é", sets: "3√ó6", weight: "–°–í", type: "other" },
                        { name: "–®—Ä–∞–≥–∏ –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é –ª–æ–ø–∞—Ç–∫–∏", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ñ–∏–º —Å—Ç–æ—è—á–∏", sets: "4√ó4", weight: "–°–í", type: "ohp" },
                        { name: "–ë—ñ—Ü–µ–ø—Å —Å—Ç–æ—è—á–∏", sets: "3√ó8", weight: "–°–í", type: "biceps" }
                    ],
                    cooldown: [
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ —Å—Ç–æ—è—á–∏ –ø–µ—Ä–µ–¥ –¥–∑–µ—Ä–∫–∞–ª–æ–º 3√ó6",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –∑ —É–ø–æ—Ä–æ–º –≤ –ª–∞–≤–∫—É 3√ó6",
                        "–ó–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É 3√ó6 –Ω–∞ —Ä—É–∫—É"
                    ]
                },
                day2: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó8",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–§—ñ–∫—Å–∞—Ü—ñ—è –ª–æ–ø–∞—Ç–∫–∏ –∑ –Ω–∞—Ö–∏–ª–æ–º 2√ó10 –Ω–∞ —Ä—É–∫—É",
                        "–Ü–º—ñ—Ç–∞—Ü—ñ—è –∂–∏–º—É –∑ –ø–∞–ª–∫–æ—é 3√ó5"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "2√ó2 ‚Üí –ø–æ 1 –≤ –≥–æ—Ä—É", weight: "–õ–í‚Üí", type: "bench_pyramid" },
                        { name: "–ñ–∏–º –ê—Ä–Ω–æ–ª—å–¥–∞", sets: "4√ó8", weight: "–õ–í", type: "other" },
                        { name: "–¢—è–≥–∞ –Ω–∏–∂–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ü—É–ª–æ–≤–µ—Ä —á–µ—Ä–µ–∑ –ª–∞–≤–∫—É", sets: "3√ó8", weight: "–õ–í", type: "other" },
                        { name: "–ú–æ–ª–æ—Ç–∫–æ–≤—ñ –∑–≥–∏–Ω–∞–Ω–Ω—è", sets: "4√ó5", weight: "–°–í", type: "other" }
                    ],
                    cooldown: [
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ —Å—Ç–æ—è—á–∏ –ø–µ—Ä–µ–¥ –¥–∑–µ—Ä–∫–∞–ª–æ–º 3√ó6",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –∑ —É–ø–æ—Ä–æ–º –≤ –ª–∞–≤–∫—É 3√ó6",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –±–æ–∫—É –ú–í 3√ó6",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –∂–∏–≤–æ—Ç—É –ú–í 3√ó6"
                    ]
                },
                day3: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó10",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –ª–µ–∂–∞—á–∏ –Ω–∞ –ø—ñ–¥–ª–æ–∑—ñ 3√ó5"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "5√ó5 + 3√ó1 —Å—ñ–Ω–≥–ª–∏", weight: "–°–í", type: "bench" },
                        { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª—å –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ", sets: "2√ó8", weight: "–°–í", type: "incline" },
                        { name: "–ñ–∏–º –≤—É–∑—å–∫–∏–º —Ö–≤–∞—Ç–æ–º", sets: "4√ó4", weight: "–°–í", type: "close_grip" },
                        { name: "–ú–∞—Ö–∏ –Ω–∞ —Å–µ—Ä–µ–¥–Ω—é –¥–µ–ª—å—Ç—É", sets: "3√ó8 ‚Üó", weight: "‚Üó", type: "other" },
                        { name: "–í—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –±—Ä—É—Å–∞—Ö", sets: "4√ó4 ‚Üó", weight: "‚Üó", type: "other" }
                    ],
                    cooldown: [
                        "–†–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞",
                        "–ó–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É 3√ó6 –Ω–∞ —Ä—É–∫—É"
                    ]
                }
            },
            week3: {
                day1: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó6",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–Ü–º—ñ—Ç–∞—Ü—ñ—è –∂–∏–º—É –∑ –ø–∞–ª–∫–æ—é 3√ó5"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "4√ó4 + 5√ó1 —Å—ñ–Ω–≥–ª–∏", weight: "–õ–í", type: "bench" },
                        { name: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ –¥–µ–ø—Ä–µ—Å—ñ—î—é", sets: "3√ó6", weight: "–°–í", type: "other" },
                        { name: "–®—Ä–∞–≥–∏ –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é –ª–æ–ø–∞—Ç–∫–∏", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ñ–∏–º —Å—Ç–æ—è—á–∏", sets: "4√ó4", weight: "–°–í", type: "ohp" },
                        { name: "–ñ–∏–º –≤—É–∑—å–∫–∏–º —Ö–≤–∞—Ç–æ–º", sets: "5√ó2", weight: "–í–í", type: "close_grip" }
                    ],
                    cooldown: [
                        "–†–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞",
                        "–ó–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É 3√ó6 –Ω–∞ —Ä—É–∫—É",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –ª–µ–∂–∞—á–∏ –Ω–∞ –ø—ñ–¥–ª–æ–∑—ñ 3√ó5"
                    ]
                },
                day2: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó8",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–§—ñ–∫—Å–∞—Ü—ñ—è –ª–æ–ø–∞—Ç–∫–∏ –∑ –Ω–∞—Ö–∏–ª–æ–º 2√ó10 –Ω–∞ —Ä—É–∫—É",
                        "–Ü–º—ñ—Ç–∞—Ü—ñ—è –∂–∏–º—É –∑ –ø–∞–ª–∫–æ—é 3√ó5"
                    ],
                    exercises: [
                        { name: "–í—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –±—Ä—É—Å–∞—Ö", sets: "4√ó4", weight: "–≤–ª–∞—Å–Ω–∞/–°–í", type: "other" },
                        { name: "–ñ–∏–º –ê—Ä–Ω–æ–ª—å–¥–∞", sets: "4√ó10", weight: "–õ–í", type: "other" },
                        { name: "–¢—è–≥–∞ –Ω–∏–∂–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "2√ó2 ‚Üí –ø–æ 1 –≤ –≥–æ—Ä—É", weight: "–õ–í‚Üí", type: "bench_pyramid" },
                        { name: "–ú–æ–ª–æ—Ç–∫–æ–≤—ñ –∑–≥–∏–Ω–∞–Ω–Ω—è", sets: "4√ó5", weight: "–°–í", type: "other" }
                    ],
                    cooldown: [
                        "–†–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –±–æ–∫—É –ú–í 3√ó6",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –∂–∏–≤–æ—Ç—É –ú–í 3√ó6"
                    ]
                }
            },
            week4: {
                day1: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–°—Ç–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –∑ —É–ø–æ—Ä–æ–º 2√ó15—Å –Ω–∞ —Ä—É–∫—É",
                        "–°—Ç–∞—Ç–∏—á–Ω–µ —É—Ç—Ä–∏–º–∞–Ω–Ω—è –±–æ–∫–æ–º 2√ó15—Å –Ω–∞ —Ä—É–∫—É",
                        "–Ü–º—ñ—Ç–∞—Ü—ñ—è –∂–∏–º—É –∑ –ø–∞–ª–∫–æ—é 3√ó5"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "5√ó5", weight: "–°–í", type: "bench" },
                        { name: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ –¥–µ–ø—Ä–µ—Å—ñ—î—é", sets: "3√ó6", weight: "–°–í", type: "other" },
                        { name: "–®—Ä–∞–≥–∏ –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é –ª–æ–ø–∞—Ç–∫–∏", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "4√ó4", weight: "–í–í", type: "bench" },
                        { name: "–ë—ñ—Ü–µ–ø—Å —Å—Ç–æ—è—á–∏", sets: "3√ó8", weight: "–õ–í", type: "biceps" }
                    ],
                    cooldown: [
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ —Å—Ç–æ—è—á–∏ –ø–µ—Ä–µ–¥ –¥–∑–µ—Ä–∫–∞–ª–æ–º 3√ó6",
                        "–ù–∞—Ç—è–∂–∫–∞ –ª–æ–ø–∞—Ç–æ–∫ –∑ —É–ø–æ—Ä–æ–º –≤ –ª–∞–≤–∫—É 3√ó6",
                        "–ó–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É 3√ó6 –Ω–∞ —Ä—É–∫—É"
                    ]
                },
                day2: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó8",
                        "–ü—ñ–¥–π–æ–º –ø—Ä—è–º–∏—Ö —Ä—É–∫ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–∏ 3√ó10",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–§—ñ–∫—Å–∞—Ü—ñ—è –ª–æ–ø–∞—Ç–∫–∏ –∑ –Ω–∞—Ö–∏–ª–æ–º 2√ó10 –Ω–∞ —Ä—É–∫—É"
                    ],
                    exercises: [
                        { name: "–í—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –±—Ä—É—Å–∞—Ö", sets: "4√ó4", weight: "–≤–ª–∞—Å–Ω–∞/–°–í", type: "other" },
                        { name: "–ñ–∏–º –ê—Ä–Ω–æ–ª—å–¥–∞", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–¢—è–≥–∞ –Ω–∏–∂–Ω—å–æ–≥–æ –±–ª–æ–∫—É –∑ —Ä–µ—Ç—Ä–∞–∫—Ü—ñ—î—é", sets: "5√ó5", weight: "–°–í", type: "other" },
                        { name: "–ü—É–ª–æ–≤–µ—Ä —á–µ—Ä–µ–∑ –ª–∞–≤–∫—É", sets: "3√ó8", weight: "–õ–í", type: "other" },
                        { name: "–†–æ–∑–≥–∏–Ω–∞–Ω–Ω—è —ñ–∑-–∑–∞ –≥–æ–ª–æ–≤–∏", sets: "4√ó5", weight: "–õ–í", type: "other" }
                    ],
                    cooldown: [
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –±–æ–∫—É –ú–í 3√ó6",
                        "–í—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ª–µ–∂–∞—á–∏ –Ω–∞ –∂–∏–≤–æ—Ç—É –ú–í 3√ó6"
                    ]
                },
                day3: {
                    warmup: [
                        "–ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑–º–∏–Ω–∫–∞, –∫–∞—Ä–¥—ñ–æ 10 —Ö–≤",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è –ø–ª–µ—á –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ 3√ó12",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É",
                        "–†–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞"
                    ],
                    exercises: [
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "5√ó3", weight: "–í–í", type: "bench" },
                        { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª—å –Ω–∞ –ø–æ—Ö–∏–ª—ñ–π –ª–∞–≤—Ü—ñ", sets: "2√ó6", weight: "–°–í", type: "incline" },
                        { name: "–ú–∞—Ö–∏ –Ω–∞ —Å–µ—Ä–µ–¥–Ω—é –¥–µ–ª—å—Ç—É", sets: "3√ó8 ‚Üó", weight: "‚Üó", type: "other" },
                        { name: "–ú–∞—Ö–∏ –Ω–∞ –∑–∞–¥–Ω—é –¥–µ–ª—å—Ç—É", sets: "3√ó8 ‚Üó", weight: "‚Üó", type: "other" },
                        { name: "–ñ–∏–º –ª–µ–∂–∞—á–∏", sets: "5√ó5", weight: "–õ–í", type: "bench" }
                    ],
                    cooldown: [
                        "–†–æ–∑—Ç—è–∂–∫–∞ –º–æ—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ —Å—Ç–µ–≥–Ω–∞",
                        "–ó–∞—à–∞–≥—É–≤–∞–Ω–Ω—è —Ä—É–∫–∞–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É 3√ó6 –Ω–∞ —Ä—É–∫—É",
                        "–û–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç—É–ª—É–±–∞ –∑ —É–ø–æ—Ä–æ–º 3√ó12 –Ω–∞ —Ä—É–∫—É"
                    ]
                }
            }
        };

        function calculateWeight(type, weightCategory, oneRM) {
            const coefBiceps = parseFloat(document.getElementById('coef_biceps').value) / 100;
            const coefIncline = parseFloat(document.getElementById('coef_incline').value) / 100;
            const coefOHP = parseFloat(document.getElementById('coef_ohp').value) / 100;
            const coefCloseGrip = parseFloat(document.getElementById('coef_close_grip').value) / 100;

            let exerciseRM = oneRM;

            if (type === 'biceps') {
                exerciseRM = oneRM * coefBiceps;
            } else if (type === 'incline') {
                exerciseRM = oneRM * coefIncline;
            } else if (type === 'ohp') {
                exerciseRM = oneRM * coefOHP;
            } else if (type === 'close_grip') {
                exerciseRM = oneRM * coefCloseGrip;
            } else if (type !== 'bench' && type !== 'bench_pyramid') {
                return null;
            }

            if (weightCategory === '‚Üó' || weightCategory === '–≤–ª–∞—Å–Ω–∞/–°–í') {
                return null;
            }

            const cleanCategory = weightCategory.replace('‚Üí', '');
            
            if (!WEIGHT_RANGES[cleanCategory]) {
                return null;
            }

            const range = WEIGHT_RANGES[cleanCategory];
            const minWeight = roundToBarbell(exerciseRM * (range.min / 100));
            const maxWeight = roundToBarbell(exerciseRM * (range.max / 100));

            return {
                minWeight,
                maxWeight,
                category: cleanCategory,
                // Always show the original percentages from PDF
                minPercent: range.min,
                maxPercent: range.max
            };
        }

        function renderProgram() {
            const oneRM = parseFloat(document.getElementById('oneRepMax').value) || 80;
            const content = document.getElementById('programContent');
            
            let html = '';

            const weekNames = { week1: '–¢–∏–∂–¥–µ–Ω—å I', week2: '–¢–∏–∂–¥–µ–Ω—å II', week3: '–¢–∏–∂–¥–µ–Ω—å III', week4: '–¢–∏–∂–¥–µ–Ω—å IV' };
            const dayNames = { day1: '1', day2: '2', day3: '3' };

            for (const [weekKey, weekData] of Object.entries(program)) {
                html += `
                    <section class="week-section" id="${weekKey}">
                        <div class="week-header" onclick="toggleWeek('${weekKey}')">
                            <h2>${weekNames[weekKey]}</h2>
                            <span class="toggle-icon">‚ñº</span>
                        </div>
                        <div class="week-content">
                `;

                for (const [dayKey, dayData] of Object.entries(weekData)) {
                    const dayId = `${weekKey}_${dayKey}`;
                    html += `
                        <div class="day-section" id="${dayId}">
                            <div class="day-header" onclick="toggleDay('${dayId}')">
                                <div class="day-number">${dayNames[dayKey]}</div>
                                <div class="day-title">–¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏–π –¥–µ–Ω—å</div>
                                <span class="toggle-icon">‚ñº</span>
                            </div>
                            <div class="day-content">
                    `;

                    if (dayData.warmup?.length) {
                        html += `
                            <div class="block warmup">
                                <div class="block-header">–†–æ–∑–º–∏–Ω–∫–∞</div>
                                <ul class="warmup-list">
                                    ${dayData.warmup.map(item => `<li>${addVideoLink(item)}</li>`).join('')}
                                </ul>
                            </div>
                        `;
                    }

                    if (dayData.exercises?.length) {
                        html += `
                            <div class="block exercises">
                                <div class="block-header">–í–ø—Ä–∞–≤–∏</div>
                                <table class="exercise-table">
                                    <thead>
                                        <tr>
                                            <th class="col-num">#</th>
                                            <th class="col-name">–í–ø—Ä–∞–≤–∞</th>
                                            <th class="col-sets">–ü—ñ–¥—Ö–æ–¥–∏</th>
                                            <th class="col-weight">–í–∞–≥–∞</th>
                                            <th class="col-result">–§–∞–∫—Ç</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                        `;

                        dayData.exercises.forEach((ex, idx) => {
                            const result = calculateWeight(ex.type, ex.weight, oneRM);
                            const showInput = ex.type === 'other' && !['‚Üó', '–≤–ª–∞—Å–Ω–∞/–°–í'].includes(ex.weight);
                            
                            let weightCell = '';
                            if (result) {
                                const weightDisplay = result.minWeight === result.maxWeight 
                                    ? `${result.minWeight}` 
                                    : `${result.minWeight}‚Äì${result.maxWeight}`;
                                const percentDisplay = result.minPercent === result.maxPercent
                                    ? `${result.minPercent}%`
                                    : `${result.minPercent}‚Äì${result.maxPercent}%`;
                                weightCell = `
                                    <div class="weight-info">
                                        <span class="weight-value">${weightDisplay} –∫–≥</span>
                                        <span class="weight-meta">(${result.category} ${percentDisplay})</span>
                                    </div>
                                `;
                            } else if (showInput) {
                                weightCell = `<input type="text" class="user-weight-input" placeholder="${ex.weight}">`;
                            } else {
                                weightCell = `<span class="weight-empty">${ex.weight}</span>`;
                            }

                            html += `
                                <tr>
                                    <td><div class="exercise-num">${idx + 1}</div></td>
                                    <td class="exercise-name">${ex.name}</td>
                                    <td class="sets-reps">${ex.sets}</td>
                                    <td>${weightCell}</td>
                                    <td><input type="text" class="result-input" placeholder="‚Äî"></td>
                                </tr>
                            `;
                        });

                        html += `
                                    </tbody>
                                </table>
                            </div>
                        `;
                    }

                    if (dayData.cooldown?.length) {
                        html += `
                            <div class="block cooldown">
                                <div class="block-header">–ó–∞–º–∏–Ω–∫–∞</div>
                                <ul class="warmup-list">
                                    ${dayData.cooldown.map(item => `<li>${addVideoLink(item)}</li>`).join('')}
                                </ul>
                            </div>
                        `;
                    }

                    html += `</div></div>`;
                }

                html += `</div></section>`;
            }

            content.innerHTML = html;
            loadToggleState();
        }

        async function savePDF() {
            const btn = document.getElementById('saveBtn');
            const overlay = document.getElementById('loadingOverlay');
            
            btn.disabled = true;
            overlay.classList.add('active');

            // Expand all sections for PDF
            document.querySelectorAll('.week-section, .day-section').forEach(s => s.classList.remove('collapsed'));

            const configSection = document.getElementById('configSection');
            const saveSection = document.getElementById('saveSection');
            const themeToggle = document.querySelector('.theme-toggle');
            const legendSection = document.querySelector('.legend');
            
            configSection.style.display = 'none';
            saveSection.style.display = 'none';
            themeToggle.style.display = 'none';

            // Hide toggle icons for PDF
            document.querySelectorAll('.toggle-icon').forEach(el => el.style.display = 'none');

            const element = document.getElementById('mainContainer');
            const oneRM = document.getElementById('oneRepMax').value;
            
            const opt = {
                margin: [10, 8, 10, 8],
                filename: `–ñ–ò–ú_100–ö–ì_1RM_${oneRM}–∫–≥.pdf`,
                image: { type: 'jpeg', quality: 0.95 },
                html2canvas: { 
                    scale: 2, 
                    useCORS: true,
                    logging: false,
                    letterRendering: true
                },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                pagebreak: { mode: ['avoid-all', 'css', 'legacy'], before: '.week-section' }
            };

            try {
                await html2pdf().set(opt).from(element).save();
            } catch (err) {
                console.error('PDF error:', err);
                alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó PDF. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
            }

            // Restore UI
            configSection.style.display = 'block';
            saveSection.style.display = 'block';
            themeToggle.style.display = 'flex';
            document.querySelectorAll('.toggle-icon').forEach(el => el.style.display = '');
            
            overlay.classList.remove('active');
            btn.disabled = false;
            
            // Restore collapsed state
            loadToggleState();
        }

        // Event listeners
        ['oneRepMax', 'coef_biceps', 'coef_incline', 'coef_ohp', 'coef_close_grip'].forEach(id => {
            document.getElementById(id).addEventListener('input', renderProgram);
        });

        renderProgram();
    </script>
</body>
</html>
